{%capture handleColl-%}{% include 'shortcode-render' render:'handle' default:'' -%}{%endcapture-%}
{%capture limit-%}{% include 'shortcode-render' render:'limit' default:'' -%}{%endcapture-%}


{%assign collection = collections[handleColl]%}
{% if collection.products.size > 0 -%}
{%capture id -%}cate-{{collection.id}}-{{forloop.index}}{%endcapture-%}
<div class="ega-cate-shortcode container not-prose" id="{{id}}">
	 <ega-carousel>
			  	 <script data-type="swiper-params" type="application/json">
				{
				  "speed": 1000,
				  "spaceBetween": 8,
				  "slidesPerView": 1.5,
				  
				  "breakpoints": {
					"768": {
					  "slidesPerView": 2.5
					},
					"1024": {
					  "slidesPerView": 3.5
					},
					"1200": {
					  "slidesPerView": 4
					}
				  },
				   "pagination": {
                  "el": "#{{id}} .swiper-pagination",
                  "clickable": true
                },
                "navigation": {
                  "nextEl": "#{{id}} .swiper-button-next",
                  "prevEl": "#{{id}} .swiper-button-prev"
                }
				}
      </script>
		 <div class="swiper py-3 md:py-[var(--spacing-10)] md:pt-3">
			 <div class="swiper-wrapper h-inherit  pb-6 grid grid-cols-2 md:grid-cols-4  gap-gutter relative ">
				 	{% for product in collection.products limit: limit -%}
				 <div class="swiper-slide h-inherit">
					 	{% include 'product-grid-item' %}
				 </div>
					{%endfor%}
				
			 </div>
			   <!-- Add Pagination -->
              <div class="swiper-pagination"></div>
              <div class="swiper-button-prev"></div>
              <div class="swiper-button-next"></div>
		 </div>
	</ega-carousel>
</div>
{%endif%}